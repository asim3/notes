..title..
Docker Engine - Community

..link.. deploy_server/master.txt
..


..text..
Docker Engine - Community package is now called docker-ce
Docker Engine - Enterprise package is now called docker-ee


..text..
Uninstall old versions
..code..
sudo apt-get remove docker docker-engine docker.io containerd runc


..text..
Install dependency packages
..code..
sudo apt-get update
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common


..text..
download Dockerâ€™s GPG PUBLIC KEY
..code..
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

# Verify GPG PUBLIC KEY fingerprint
sudo apt-key fingerprint 0EBFCD88


..text..
Add Docker stable repository
..code..
sudo add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable"


..text..
Install Docker Engine - Community
..code..
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io

# Verify that docker-ce is installed correctly
sudo docker run hello-world


..text..
Show running images
..code..
docker ps 

# all 
docker ps -a 


..sub_title..
Build stage

..text..
Dockerfile
..code..
FROM python:3
ENV pythonunbuffered 1
RUN mkdir /my_file
WORKDIR /my_file
COPY . /my_file/
RUN pip install -r requirements.txt


..text..
docker-compose.yml
..code..
version: '3'

services:
  web:
    build: .
    command: python my_project/my_project/manage.py runserver 0.0.0.0:8000
    volumes:
      - .:/my_file
    ports:
      - "8000:8000"
    depends_on:
      - db
  db:
    image: postgres


..code..
docker-compose run web python my_project/my_project/manage.py migrate
docker-compose build
docker-compose up


..sub_title..
Run stage
..code..
docker run <image>
docker start <name|id>
docker stop <name|id>
docker rm <name|id>